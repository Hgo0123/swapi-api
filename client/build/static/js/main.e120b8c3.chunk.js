(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{24:function(e,t,a){e.exports=a(38)},29:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(21),s=a.n(r),c=(a(29),a(6)),i=a(7),u=a(9),o=a(8),m=(a(30),a(1)),p=(a(31),function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={goToUserPage:!1},e.handleClick=function(t){t.preventDefault(),e.setState({goToUserPage:!0})},e}return Object(i.a)(a,[{key:"render",value:function(){return!0===this.state.goToUserPage?l.a.createElement(m.a,{push:!0,to:{pathname:"/".concat(this.props.user.name),state:{user:this.props.user,request:this.props.request}}}):l.a.createElement("li",{className:"list__elem"}," ",this.props.user.name," ",l.a.createElement("div",{className:"details"}," ",l.a.createElement("a",{onClick:this.handleClick,className:"list__elem__link"},"Voir plus...")))}}]),a}(n.Component)),h=a(23),E=function(e){var t=e.request,a=e.fillState,r=Object(n.useState)(""),s=Object(h.a)(r,2),c=s[0],i=s[1];return l.a.createElement("input",{className:"input",type:"text",value:c,onChange:function(e){var n=e.target.value;i(n),fetch("personnages/".concat(t,"/").concat(n)).then((function(e){return e.json()})).then((function(e){return a(e)}))},placeholder:"Search for ".concat(t)})},v=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={users:[],pages:1,request:"people"},e.fillState=function(t){e.setState({users:t.results})},e.nextPage=function(t){t.preventDefault();var a=e.state.pages;a++,e.setState({pages:a})},e.previousPage=function(t){t.preventDefault();var a=e.state.pages;--a<=1&&(a=1),e.setState({pages:a})},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("/personnages/".concat(this.state.request,"/page/").concat(this.state.pages)).then((function(e){return e.json()})).then((function(t){return e.fillState(t)}))}},{key:"componentDidUpdate",value:function(e,t){var a=this;t.pages===this.state.pages&&t.request===this.state.request||fetch("/personnages/".concat(this.state.request,"/page/").concat(this.state.pages)).then((function(e){return e.json()})).then((function(e){return a.fillState(e)})),t.request!==this.state.request&&this.setState({pages:1})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"App"},l.a.createElement("h1",{className:"title"},"Swapi"),l.a.createElement(E,{request:this.state.request,fillState:this.fillState}),l.a.createElement("div",{className:"request-container"},l.a.createElement("button",{className:"request-container__btn request-container__btn--search",onClick:function(){return e.setState({request:"planets"})}},"Search by planet"),l.a.createElement("button",{className:"request-container__btn request-container__btn--search",onClick:function(){return e.setState({request:"starships"})}},"Search by starships")),l.a.createElement("div",{className:"list-container"},l.a.createElement("ul",{className:"list"},this.state.users.map((function(t){return l.a.createElement(p,{user:t,request:e.state.request})})))),l.a.createElement("div",{className:"container"},l.a.createElement("button",{className:"container__btn",onClick:this.previousPage},"Previous page"),l.a.createElement("button",{className:"container__btn",onClick:this.nextPage},"Next Page")))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(37);var d=a(13),f=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={userResidents:[]},e.renderData=function(t){var a=Object(d.a)(e.state.userResidents),n=l.a.createElement("li",null,t.name);a.push(n),e.setState({userResidents:a})},e.fetchData=function(t){Object.values(t).forEach((function(t){return fetch(t).then((function(e){return e.json(e)})).then((function(t){return e.renderData(t)}))}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.fetchData(this.props.user.residents)}},{key:"render",value:function(){return l.a.createElement("ul",{className:"list"},l.a.createElement("li",{className:"list__elem"},l.a.createElement("div",null,"Rotation period"),l.a.createElement("div",null,this.props.user.rotation_period)),l.a.createElement("li",{className:"list__elem"},l.a.createElement("div",null,"Orbital period"),l.a.createElement("div",null,this.props.user.orbital_period)),l.a.createElement("li",{className:"list__elem"},l.a.createElement("div",null,"Diameter"),l.a.createElement("div",null,this.props.user.diameter)),l.a.createElement("li",{className:"list__elem"},l.a.createElement("div",null,"Climate"),l.a.createElement("div",null,this.props.user.climate)),l.a.createElement("li",{className:"list__elem"},l.a.createElement("div",null,"Gravity"),l.a.createElement("div",null,this.props.user.gravity)),l.a.createElement("li",{className:"list__elem"},l.a.createElement("div",null,"Terrain"),l.a.createElement("div",null,this.props.user.terrain)),l.a.createElement("li",{className:"list__elem"},l.a.createElement("div",null,"Population"),l.a.createElement("div",null,this.props.user.population)),l.a.createElement("li",{className:"list__elem"},l.a.createElement("div",null,"Residents"),l.a.createElement("div",{className:"wrap"},this.state.userResidents.length>0?this.state.userResidents:"Nobody lives here")))}}]),a}(n.Component),_=function(e){var t=e.user;return l.a.createElement("ul",{className:"list"},l.a.createElement("li",{className:"list__elem"},l.a.createElement("div",null,"Model"),l.a.createElement("div",null,t.model," cm")),l.a.createElement("li",{className:"list__elem"},l.a.createElement("div",null,"Starship class"),l.a.createElement("div",null,t.starship_class)),l.a.createElement("li",{className:"list__elem"},l.a.createElement("div",null,"Manufacturer"),l.a.createElement("div",null,t.manufacturer," kg")),l.a.createElement("li",{className:"list__elem"},l.a.createElement("div",null,"Cost"),l.a.createElement("div",null,t.cost_in_credits)),l.a.createElement("li",{className:"list__elem"},l.a.createElement("div",null,"Taille"),l.a.createElement("div",null,t.length)),l.a.createElement("li",{className:"list__elem"},l.a.createElement("div",null,"Crew"),l.a.createElement("div",null,t.crew)),l.a.createElement("li",{className:"list__elem"},l.a.createElement("div",null,"Passengers"),l.a.createElement("div",null,t.passengers)),l.a.createElement("li",{className:"list__elem"},l.a.createElement("div",null,"Cargo capacity"),l.a.createElement("div",null,t.cargo_capacity)),l.a.createElement("li",{className:"list__elem"},l.a.createElement("div",null,"Consumables"),l.a.createElement("div",null,t.consumables)),l.a.createElement("li",{className:"list__elem"},l.a.createElement("div",null,"Hyperdrive rating"),l.a.createElement("div",null,t.hyperdrive_rating)))},g=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={userFilms:[],userHomeworld:[]},e.renderData=function(t){var a=Object(d.a)(e.state.userFilms),n=Object(d.a)(e.state.userHomeworld),r=l.a.createElement("li",null,t.name),s=l.a.createElement("li",null,t.title);a.push(s),n.push(r),e.setState({userFilms:a,userHomeworld:n})},e.fetchData=function(t){Object.values(t).forEach((function(t){return fetch(t).then((function(e){return e.json(e)})).then((function(t){return e.renderData(t)}))}))},e.fetchDataOnce=function(t){fetch(t).then((function(e){return e.json(e)})).then((function(t){return e.renderData(t)}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.fetchData(this.props.user.films),this.fetchDataOnce(this.props.user.homeworld)}},{key:"render",value:function(){return l.a.createElement("ul",{className:"list"},l.a.createElement("li",{className:"list__elem"},l.a.createElement("div",null,"Height"),l.a.createElement("div",null,this.props.user.height," cm")),l.a.createElement("li",{className:"list__elem"},l.a.createElement("div",null,"Weight"),l.a.createElement("div",null,this.props.user.mass," kg")),l.a.createElement("li",{className:"list__elem"},l.a.createElement("div",null,"Hair color"),l.a.createElement("div",null,"n/a"===this.props.user.hair_color?"It's a robot":this.props.user.hair_color)),l.a.createElement("li",{className:"list__elem"},l.a.createElement("div",null,"Skin color"),l.a.createElement("div",null,this.props.user.skin_color)),l.a.createElement("li",{className:"list__elem"},l.a.createElement("div",null,"Eye color"),l.a.createElement("div",null,this.props.user.eye_color)),l.a.createElement("li",{className:"list__elem"},l.a.createElement("div",null,"Birth year"),l.a.createElement("div",null,this.props.user.birth_year)),l.a.createElement("li",{className:"list__elem"},l.a.createElement("div",null,"Gender"),l.a.createElement("div",null,"n/a"===this.props.user.gender?"It's a robot":this.props.user.gender)),l.a.createElement("li",{className:"list__elem"},l.a.createElement("div",null,"Homeworld"),l.a.createElement("div",null,this.state.userHomeworld)),l.a.createElement("li",{className:"list__elem"},l.a.createElement("div",null,"Films"),l.a.createElement("div",null,this.state.userFilms)))}}]),a}(n.Component),b=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).renderList=function(){var t=e.props.location.state,a=t.user,n=t.request;return"people"===n?l.a.createElement(g,{user:a}):"planets"===n?l.a.createElement(f,{user:a,request:n}):l.a.createElement(_,{user:a})},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.location.state.user;return l.a.createElement("div",{className:"list-container"},l.a.createElement("h2",{className:"title"},e.name),this.renderList())}}]),a}(n.Component),N=a(16),y=function(){return l.a.createElement(N.a,null,l.a.createElement(m.d,null,l.a.createElement(m.b,{exact:!0,path:"/",component:v}),l.a.createElement(m.b,{path:"/:name",component:b})))};s.a.render(l.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[24,1,2]]]);
//# sourceMappingURL=main.e120b8c3.chunk.js.map